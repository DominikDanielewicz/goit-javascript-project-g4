{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,2BAGA,WACE,MAAMC,EAAqBC,SAASC,cAAc,uCAC5CC,EAAmBF,SAASC,cAAc,qCAEhDF,EAAmBI,YAAc,sBACjCD,EAAiBC,YAAc,mBACjC,CACAC,GAE0BJ,SAASC,cAAc,yBAE/BI,iBAAiB,SAASC,IAC1C,MAAMC,EAASD,EAAME,OACfC,EAAUF,EAAOG,QAAQC,GAE/B,GAA2B,mBAAvBJ,EAAOJ,YAAkC,CAC3C,IAAIS,EAAgBC,KAAKC,MAAMC,aAAaC,QAAQ,aAAe,GAE9DJ,EAAcK,SAASR,GAO1BZ,EAAAqB,OAAOC,KAAK,0CANZP,EAAcQ,KAAKX,GACnBM,aAAaM,QAAQ,UAAWR,KAAKS,UAAUV,IAC/Cf,EAAAqB,OAAOK,QAAQ,0CACf,EAAAC,EAAAC,eAAcC,EAAAC,iBAAkBD,EAAAE,MAChCrB,EAAOJ,YAAc,sBAIzB,MAAO,GAA2B,iBAAvBI,EAAOJ,YAAgC,CAChD,IAAI0B,EAAehB,KAAKC,MAAMC,aAAaC,QAAQ,WAAa,GAE3Da,EAAaZ,SAASR,GAOzBZ,EAAAqB,OAAOC,KAAK,wCANZU,EAAaT,KAAKX,GAClBM,aAAaM,QAAQ,QAASR,KAAKS,UAAUO,IAC7ChC,EAAAqB,OAAOK,QAAQ,mCACf,EAAAC,EAAAC,eAAcC,EAAAC,iBAAkBD,EAAAE,MAChCrB,EAAOJ,YAAc,oBAIzB,MAAO,GAA2B,wBAAvBI,EAAOJ,YAAuC,CACvD,IAAIS,EAAgBC,KAAKC,MAAMC,aAAaC,QAAQ,aAAe,GAE/DJ,EAAcK,SAASR,KACzBG,EAAgBA,EAAckB,QAAOnB,GAAMA,IAAOF,IAClDM,aAAaM,QAAQ,UAAWR,KAAKS,UAAUV,IAC/Cf,EAAAqB,OAAOC,KAAK,8CACZ,EAAAK,EAAAC,eAAcC,EAAAC,iBAAkBD,EAAAE,MAChCrB,EAAOJ,YAAc,iBAEzB,MAAO,GAA2B,sBAAvBI,EAAOJ,YAAqC,CACrD,IAAI0B,EAAehB,KAAKC,MAAMC,aAAaC,QAAQ,WAAa,GAE5Da,EAAaZ,SAASR,KACxBoB,EAAeA,EAAaC,QAAOnB,GAAMA,IAAOF,IAChDM,aAAaM,QAAQ,QAASR,KAAKS,UAAUO,IAC7ChC,EAAAqB,OAAOC,KAAK,uCACZ,EAAAK,EAAAC,eAAcC,EAAAC,iBAAkBD,EAAAE,MAChCrB,EAAOJ,YAAc,eAEzB","sources":["src/js/remove-movie-from-storage.js"],"sourcesContent":["import { Notify } from 'notiflix';\nimport { createLibrary } from './create-library';\nimport { PAGE, PAGINATION_STATE } from './globals';\nfunction changeButtonText() {\n  const addToWatchedButton = document.querySelector('.modal-movie__button-add-to-watched');\n  const addToQueueButton = document.querySelector('.modal-movie__button-add-to-queue');\n\n  addToWatchedButton.textContent = 'REMOVE FROM WATCHED';\n  addToQueueButton.textContent = 'REMOVE FROM QUEUE';\n}\nchangeButtonText();\n\nconst modalMovieButtons = document.querySelector('.modal-movie__buttons');\n\nmodalMovieButtons.addEventListener('click', event => {\n  const button = event.target;\n  const movieId = button.dataset.id;\n\n  if (button.textContent === 'ADD TO WATCHED') {\n    let watchedMovies = JSON.parse(localStorage.getItem('watched')) || [];\n\n    if (!watchedMovies.includes(movieId)) {\n      watchedMovies.push(movieId);\n      localStorage.setItem('watched', JSON.stringify(watchedMovies));\n      Notify.success(`This movie has been added to watched.`);\n      createLibrary(PAGINATION_STATE, PAGE);\n      button.textContent = 'REMOVE FROM WATCHED';\n    } else {\n      Notify.info(`This movie already exists in watched.`);\n    }\n  } else if (button.textContent === 'ADD TO QUEUE') {\n    let queuedMovies = JSON.parse(localStorage.getItem('queue')) || [];\n\n    if (!queuedMovies.includes(movieId)) {\n      queuedMovies.push(movieId);\n      localStorage.setItem('queue', JSON.stringify(queuedMovies));\n      Notify.success(`Movie has been added to queue.`);\n      createLibrary(PAGINATION_STATE, PAGE);\n      button.textContent = 'REMOVE FROM QUEUE';\n    } else {\n      Notify.info(`This movie already exists in queue.`);\n    }\n  } else if (button.textContent === 'REMOVE FROM WATCHED') {\n    let watchedMovies = JSON.parse(localStorage.getItem('watched')) || [];\n\n    if (watchedMovies.includes(movieId)) {\n      watchedMovies = watchedMovies.filter(id => id !== movieId);\n      localStorage.setItem('watched', JSON.stringify(watchedMovies));\n      Notify.info(`This movie has been removed from watched.`);\n      createLibrary(PAGINATION_STATE, PAGE);\n      button.textContent = 'ADD TO WATCHED';\n    }\n  } else if (button.textContent === 'REMOVE FROM QUEUE') {\n    let queuedMovies = JSON.parse(localStorage.getItem('queue')) || [];\n\n    if (queuedMovies.includes(movieId)) {\n      queuedMovies = queuedMovies.filter(id => id !== movieId);\n      localStorage.setItem('queue', JSON.stringify(queuedMovies));\n      Notify.info(`Movie has been removed from queue.`);\n      createLibrary(PAGINATION_STATE, PAGE);\n      button.textContent = 'ADD TO QUEUE';\n    }\n  }\n});\n"],"names":["$7Y9D8","parcelRequire","addToWatchedButton","document","querySelector","addToQueueButton","textContent","$bdcabcfc2da1a9ca$var$changeButtonText","addEventListener","event","button","target","movieId","dataset","id","watchedMovies","JSON","parse","localStorage","getItem","includes","Notify","info","push","setItem","stringify","success","$1JSMn","createLibrary","$j9dda","PAGINATION_STATE","PAGE","queuedMovies","filter"],"version":3,"file":"library.91da22b5.js.map"}